@model IEnumerable<CustomerViewModel>
@using System
@using System.Web


@{
	ViewData["Title"] = "All Customers";
	var customers = Model.ToList();
}

<a class="btn btn-primary m-3" asp-controller="Customer" asp-action="CreateCustomer">Add Client</a>

@if (TempData["Message"] != null)
{
	<div class="text-lg-center alert-success ">
		<p>@TempData["Message"]</p>
	</div>

}
@if (!customers.Any())
{
	<div class="mt-4 p-5 bg-light">
		<h1 class="display-4">All clients of the company!</h1>
		<p class="lead">
			There are no clints in the system currently available
			so why don't you just add one?
		</p>
		<hr class="my-4">

	</div>
}

<div class="container mt-5">
	<div class="row justify-content-center">
		<div class="col-md-10">
			<h2>Client List</h2>
			<table class="table table-bordered table-striped">
				<thead>
					<tr>
						<th>Name</th>
						<th>VAT Number</th>
						<th>Manager</th>
						<th>City</th>
						<th>Adress</th>
						<th>Total Turnover</th>
						<th>Phone number</th>
						<th>Option</th>

					</tr>
				</thead>
				<tbody>
					@foreach (var client in Model)
					{
						<tr>
							<td>@client.Name</td>
							<td>@client.VatNumber</td>
							<td>@client.Manager</td>
							<td>@client.City</td>
							<td>@client.Address</td>
							<td>@client.TotalTurnover</td>
							<td>@client.PhoneNumber</td>
							<td>

								
									
										<a class="btn btn-warning  btn-block" asp-controller="Customer" asp-action="EditCustomer" asp-route-id="@client.Id">Edit</a>
									
									
										<a class="btn btn-danger btn-block " asp-controller="Customer" asp-action="DeleteCustomer" asp-route-id="@client.Id">Delete</a>
									
								
							</td>

						</tr>
					}
				</tbody>
			</table>
		</div>
		<div h4> *You can delete custemer only if the customer don't have order or invoice.</div>
	</div>
</div>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

